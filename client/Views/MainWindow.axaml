<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="1024" d:DesignHeight="720"
        x:Class="PiskvorkyClientAvalonia.Views.MainWindow"
        Title="Piskvorky Client"
        Icon="/Assets/avalonia-logo.ico">

    <Grid Background="#0B0B0F">
        <!-- Lobby -->
        <StackPanel x:Name="LobbyView" Margin="20" Spacing="10" HorizontalAlignment="Center" VerticalAlignment="Center" Width="360">
            <TextBlock Text="Lobby" FontSize="32" FontWeight="Bold" HorizontalAlignment="Center"/>
            <TextBox x:Name="EntryIP" Watermark="IP address" Width="280"/>
            <TextBox x:Name="EntryPort" Watermark="Port" Width="280"/>
            <TextBox x:Name="EntryName" Watermark="Username" Width="280"/>
            <Button x:Name="ConnectButton" Content="Connect" Width="200" HorizontalAlignment="Center" Click="OnConnectClicked"/>
            <TextBlock x:Name="LabelLobbyStatus" Foreground="#9CA3AF" TextAlignment="Center" HorizontalAlignment="Center"/>
        </StackPanel>

        <!-- Rooms -->
        <Grid x:Name="RoomsView" IsVisible="False" Margin="16" RowDefinitions="Auto,Auto,*,Auto" ColumnDefinitions="*">
            <Grid Margin="0,0,0,8" ColumnDefinitions="Auto,*,Auto">
                <Button Content="Back to Lobby" Width="140" Grid.Column="0" HorizontalAlignment="Left" Click="OnBackToLobbyClicked"/>
                <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="12" HorizontalAlignment="Center">
                    <Button Content="Refresh" Width="120" Click="OnRefreshRoomsClicked"/>
                    <TextBox x:Name="EntryRoomName" Width="260" Watermark="New room name"/>
                    <Button Content="Create" Width="120" Click="OnCreateRoomClicked"/>
                </StackPanel>
                <Border Grid.Column="2" Width="140" Background="Transparent"/>
            </Grid>

            <TextBlock Grid.Row="1" Text="Available Rooms" FontSize="26" FontWeight="Bold" Margin="0,14,0,12" HorizontalAlignment="Center"/>

            <ListBox Grid.Row="2" x:Name="RoomsList" ItemsSource="{Binding Rooms}" SelectionChanged="OnRoomSelected"
                     HorizontalAlignment="Center" Width="900" Height="300" VerticalAlignment="Top"
                     Background="Transparent" BorderThickness="0" Padding="0" Margin="0,4,0,4">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <Border Background="#1F2937" CornerRadius="8" Margin="0,6" Padding="12">
                            <TextBlock Text="{Binding}" Foreground="#E5E7EB"/>
                        </Border>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>

            <StackPanel Grid.Row="3" Orientation="Horizontal" Spacing="14" HorizontalAlignment="Center" Margin="0,24,0,0">
                <Button Content="Join Selected" Width="220" Click="OnJoinRoomClicked"/>
            </StackPanel>
            <TextBlock Grid.Row="3" x:Name="LabelRoomsStatus" Foreground="#9CA3AF" HorizontalAlignment="Center" Margin="0,60,0,0"/>
        </Grid>

        <!-- Game -->
        <Grid x:Name="GameRoomView" IsVisible="False" Margin="16" RowDefinitions="Auto,*">
            <Grid ColumnDefinitions="Auto,*">
                <Button Content="Back to Rooms" Width="140" Grid.Column="0" HorizontalAlignment="Left" Click="OnBackToRoomsClicked"/>
                <Border Grid.Column="1" Background="Transparent"/>
            </Grid>

            <StackPanel Grid.Row="1" HorizontalAlignment="Center" VerticalAlignment="Center" Spacing="10">
                <TextBlock x:Name="LabelPlayers" FontSize="32" FontWeight="Bold" HorizontalAlignment="Center"/>
                <TextBlock x:Name="LabelStatus" Foreground="#9CA3AF" HorizontalAlignment="Center" FontSize="18"/>

                <Border Background="#0F172A" CornerRadius="16" Padding="28" HorizontalAlignment="Center" VerticalAlignment="Center">
                    <UniformGrid Rows="3" Columns="3" x:Name="GameGrid" Margin="0,10,0,10" HorizontalAlignment="Center" VerticalAlignment="Center">
                        <Button x:Name="B00" Width="130" Height="130" FontSize="52" Background="#1F2937" Foreground="#E0F2FE" Click="OnCellClicked" HorizontalContentAlignment="Center" VerticalContentAlignment="Center"/>
                        <Button x:Name="B01" Width="130" Height="130" FontSize="52" Background="#1F2937" Foreground="#E0F2FE" Click="OnCellClicked" HorizontalContentAlignment="Center" VerticalContentAlignment="Center"/>
                        <Button x:Name="B02" Width="130" Height="130" FontSize="52" Background="#1F2937" Foreground="#E0F2FE" Click="OnCellClicked" HorizontalContentAlignment="Center" VerticalContentAlignment="Center"/>
                        <Button x:Name="B10" Width="130" Height="130" FontSize="52" Background="#1F2937" Foreground="#E0F2FE" Click="OnCellClicked" HorizontalContentAlignment="Center" VerticalContentAlignment="Center"/>
                        <Button x:Name="B11" Width="130" Height="130" FontSize="52" Background="#1F2937" Foreground="#E0F2FE" Click="OnCellClicked" HorizontalContentAlignment="Center" VerticalContentAlignment="Center"/>
                        <Button x:Name="B12" Width="130" Height="130" FontSize="52" Background="#1F2937" Foreground="#E0F2FE" Click="OnCellClicked" HorizontalContentAlignment="Center" VerticalContentAlignment="Center"/>
                        <Button x:Name="B20" Width="130" Height="130" FontSize="52" Background="#1F2937" Foreground="#E0F2FE" Click="OnCellClicked" HorizontalContentAlignment="Center" VerticalContentAlignment="Center"/>
                        <Button x:Name="B21" Width="130" Height="130" FontSize="52" Background="#1F2937" Foreground="#E0F2FE" Click="OnCellClicked" HorizontalContentAlignment="Center" VerticalContentAlignment="Center"/>
                        <Button x:Name="B22" Width="130" Height="130" FontSize="52" Background="#1F2937" Foreground="#E0F2FE" Click="OnCellClicked" HorizontalContentAlignment="Center" VerticalContentAlignment="Center"/>
                    </UniformGrid>
                </Border>
            </StackPanel>
        </Grid>
    </Grid>
</Window>
